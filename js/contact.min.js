document
  .getElementById("contactForm")
  .addEventListener("submit", async function (e) {
    e.preventDefault();
    const n = {
      name: document.querySelector('input[name="name"]').value,
      email: document.querySelector('input[name="email"]').value,
      subject: document.querySelector('input[name="subject"]').value,
      message: document.querySelector('textarea[name="message"]').value,
    };
    if (
      ((document.getElementById("responseMessage").style.display = "block"),
      "" === n.name || "" === n.email || "" === n.subject || "" === n.message)
    )
      return (
        document
          .getElementById("responseMessage")
          .classList.remove("bg-green-600"),
        void (document.getElementById("responseMessage").innerText =
          "Lütfen tüm alanları doldurunuz.")
      );
    (-1 !== n.email.indexOf("@") && -1 !== n.email.indexOf(".")) ||
      (document
        .getElementById("responseMessage")
        .classList.remove("bg-green-600"),
      (document.getElementById("responseMessage").innerText =
        "Lütfen geçerli bir e-posta adresi giriniz."));
    const t = "https://sendtelegrammessage-7ojxtvwkca-uc.a.run.app";
    try {
      const e = await fetch(t, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(n),
        }),
        s = await e.text();
      if (200 === e.code)
        document
          .getElementById("responseMessage")
          .classList.remove("bg-red-600"),
          (document.getElementById("responseMessage").innerText =
            "Mesajınız başarılı bir şekilde gönderildi. Size mümkün olan en kısa sürede geri dönüş yapılacaktır.");
      else {
        if (
          (document
            .getElementById("responseMessage")
            .classList.remove("bg-green-600"),
          s.error)
        )
          return void (document.getElementById("responseMessage").innerText =
            s.error);
        document.getElementById("responseMessage").innerText =
          "Mesajınız gönderilemedi! Beklenmedik bir hata oluştu.";
      }
    } catch (e) {
      document.getElementById("responseMessage").innerText =
        "Mesaj Gönderilemedi! Beklenmedik bir hata oluştu.";
    }
  });
